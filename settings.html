<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Settings</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="./assets/styles.css">
</head>
<body>
    <nav>
        <div class="center-align nav-wrapper light-blue lighten-1">
            <a href="index.html" class="brand-logo">Contact List</a>
            <ul class="right">   
                 <li><a id="logout-btn" href="#"><i class="material-icons left">logout</i></a></li>
                <li><a href="#!" data-target="mobile-menu" class="sidenav-trigger show-on-large"><i class="material-icons">menu</i></a></li>
            </ul>
        </div>
    </nav>
     <!-- Sidenav for All Devices -->
     <ul class="sidenav" id="mobile-menu">
        <li><a class="mt-4" href="#about">About</a></li>
        <li><a class="" href="settings.html">Settings</a></li>
    </ul>

       <!-- About Modal -->
<div id="contactModal" class="modal">
    <div class="modal-content">
        <h4>Contact List</h4>
    </div>
    <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect waves-green btn-flat">Close</a>
    </div>
</div>


  <div class="container" style="margin-top: 50px;">
    
<div class="col mt-6">
    <div class="col s4 center-align mt-4">
        <h5 id="username-display" class="welcome-message"></h5>
    </div>
</div>
    <h4>Settings</h4>

    <!-- Buttons to Toggle Tabs -->
    <div class="row">
      <button id="change-email-btn" class="btn blue">Change Email</button>
      <button id="change-password-btn" class="btn green">Change Password</button>
    </div>

    <!-- Tabs Section -->
    <div id="email-tab" class="settings-tab" style="display: none;">
      <h5>Change Email Address</h5>
      <div class="input-field">
        <input id="new-email" type="email" class="validate" required>
        <label for="new-email">New Email Address</label>
      </div>
      <button id="save-email-btn" class="btn blue">Save New Email</button>
    </div>

    <div id="password-tab" class="settings-tab" style="display: none;">
      <h5>Change Password</h5>
      <div class="input-field">
        <input id="old-password" type="password" class="validate" required>
        <label for="old-password">Old Password</label>
      </div>
      <div class="input-field">
        <input id="new-password" type="password" class="validate" required>
        <label for="new-password">New Password</label>
      </div>
      <div class="input-field">
        <input id="confirm-password" type="password" class="validate" required>
        <label for="confirm-password">Confirm New Password</label>
      </div>
      <button id="save-password-btn" class="btn green">Save New Password</button>
    </div>

    <!-- Modal for Success Messages -->
    <div id="success-modal" class="modal">
      <div class="modal-content">
        <h4>Success</h4>
        <p id="modal-message"></p>
      </div>
      <div class="modal-footer">
        <button class="modal-close btn blue">OK</button>
      </div>
    </div>
  </div>
  <div id="success-modalPass" class="modal">
    <div class="modal-content"></div>
    <div class="modal-footer">
      <button class="modal-close btn-flat">Close</button>
    </div>
  </div>
<!-- Password Reauthentication Modal -->
<div id="password-modal" class="modal">
    <div class="modal-content">
      <h4>Reauthenticate</h4>
      <p>Please enter your password to continue:</p>
      <div class="input-field">
        <input id="reauth-password" type="password" placeholder="Enter your password">
      </div>
    </div>
    <div class="modal-footer">
      <button id="reauth-cancel-btn" class="modal-close btn red">Cancel</button>
      <button id="reauth-confirm-btn" class="btn green">Confirm</button>
    </div>
  </div>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script type="module" src="/assets/setting.js"></script>
  <script>
 

 document.addEventListener('DOMContentLoaded', function() {
          

          // Initialize modals
          const modalElems = document.querySelectorAll('.modal');
          M.Modal.init(modalElems);
        
          // Initialize sidenav
          const sidenavElems = document.querySelectorAll('.sidenav');
          M.Sidenav.init(sidenavElems);
          M.Sidenav.init(sidenavElems, {
              edge: 'right' // Open the sidenav from the right
          });
          // Initialize select elements
          const selectElems = document.querySelectorAll('select');
          M.FormSelect.init(selectElems);
      
          // Add event listener for "about" link to open a modal
          const aboutLink = document.querySelector('#mobile-menu a[href="#about"]');
          if (aboutLink) {
              aboutLink.addEventListener('click', function(event) {
                  event.preventDefault(); // Prevent default anchor behavior
                  const modalInstance = M.Modal.getInstance(document.getElementById('contactModal'));
                  modalInstance.open(); // Open the modal
              });
          }
      });
  
  </script>
</body>
</html>
